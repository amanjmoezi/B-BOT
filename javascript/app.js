var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition
var recognition = new SpeechRecognition();
recognition.continuous = false;
recognition.lang = 'fa-IR';
recognition.interimResults = false;
let resultVoice = "";
recognition.onresult = function(event) {
    resultVoice = event.results[0][0].transcript;
    console.log(resultVoice);
}
recognition.start();
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

recognition.onend = function() {
    recognition.start();
    if (resultVoice=="Ù…ÛŒØ¯ÙˆÙ†ÛŒ Ø§Ø² Ú†Ù‡ Ø±Ù†Ú¯ÛŒ Ø®ÙˆØ´Ù… Ù…ÛŒØ§Ø¯") {
        resultVoice="";
        reaction("restFace");
        new Audio("sound/6.mp3").play()               
        bBOTmouth(1)
        setTimeout(() => {bBOTmouth(2)}, 200);setTimeout(() => {bBOTmouth(5)}, 300);setTimeout(() => {bBOTmouth()}, 500);
        textShow("Ù†Ù‡ Ùˆ Ù†Ù…ÛŒ Ø®ÙˆØ§Ù… Ø¨Ø¯ÙˆÙ†Ù… ")
    }else if(resultVoice=="Ø¨Ø®Ù†Ø¯")
    {
        reaction("restFace");
        resultVoice="";
        reaction("laugh");
    }else if(resultVoice.slice(0,6)=="Ø³Ø±Ú† Ú©Ù†"&&resultVoice!="Ø³Ø±Ú† Ú©Ù†"){
        reaction("restFace");
        reaction("search")
        resultVoice="";
    }else if(resultVoice=="ÛŒÙ‡ Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ú¯Ùˆ"||resultVoice=="Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ú¯Ùˆ"){
        
        reaction("seyStory");
        resultVoice="";
    }else if(resultVoice=="Ø¨ÛŒØ§ Ø´Ø·Ø±Ù†Ø¬"||resultVoice=="Ø­Ø§Ø¬ÛŒ Ø¨ÛŒØ§ Ø¨Ø±ÛŒÙ… Ø´Ø·Ø±Ù†Ø¬"||resultVoice=="Ø¨Ø±ÛŒÙ… Ø´Ø·Ø±Ù†Ø¬"||resultVoice=="Ø­Ø§Ø¬ÛŒ Ø¨Ø²Ù† Ø¨Ø±ÛŒÙ… Ø´Ø·Ø±Ù†Ø¬"){
        reaction("laugh");
        reaction("playChess");
        resultVoice="";
    }else if(resultVoice=="Ø±***"){
        textShow("Ø®Ø¨ Ø¨Ù‡ Ø¹Ù†Ù…ðŸ˜’ðŸ˜‚");
        reaction("laugh");
        resultVoice="";
    }
    
}
setInterval(() => {
    if (navigator.onLine==false) {
            new Audio("sound/7.mp3").play();
        document.querySelector(".disconnect").style.display = `block`;
            
    }else
    {
        document.querySelector(".disconnect").style.display = `none`;
    }    
}, 3000);
